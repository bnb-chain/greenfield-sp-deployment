bases:
  - ../../../base

namespace: gf-sp-c

commonLabels:
    team: greenfield
    biz: storage-provider

configMapGenerator:
- name: config-syncer
  files:
  - configs/syncer/config.toml
- name: config-uploader-downloader-challenge
  files:
  - configs/uploader_downloader_challenge/config.toml
- name: config-gateway
  files:
  - configs/gateway/config.toml
- name: config-stonehub
  files:
  - configs/stonehub/config.toml
- name: config-stonenode
  files:
  - configs/stonenode/config.toml
- name: config-metadata
  files:
  - configs/metadata/config.toml
- name: config-signer
  files:
  - configs/signer/config.toml

patches:
- target:
    version: v1
    kind: Secret
    name: sp-db-block-syncer
  patch: |-
    - op: replace
      path: /data/sp-db-block-syncer
      value: Z3JlZW5maWVsZDowMmFNVTRtaUdjZEdaUmZiQGdyZWVuZmllbGQtc3AtZGV2LWMtY2x1c3Rlci5jbHVzdGVyLWNudmh3eWR3czZ3Yy5hcC1ub3J0aGVhc3QtMS5yZHMuYW1hem9uYXdzLmNvbS9ibG9jay1zeW5jZXI/cGFyc2VUaW1lPXRydWUmbXVsdGlTdGF0ZW1lbnRzPXRydWUmbG9jPUxvY2Fs
- target:
    kind: Ingress
    name: gateway
  patch: |-
    - op: replace
      path: /spec/rules/0/host
      value: gf-sp-c-bk.dev.nodereal.cc
    - op: replace
      path: /spec/rules/1/host
      value: "*.gf-sp-c-bk.dev.nodereal.cc"

patchesJson6902:
- target:
    version: v1
    kind: Secret
    name: sp-db
  patch: |-
    - op: replace
      path: /data/MDU
      value: Z3JlZW5maWVsZA==
- target:
    version: v1
    kind: Secret
    name: sp-db
  patch: |-
    - op: replace
      path: /data/MDP
      value: MDJhTVU0bWlHY2RHWlJmYg==
- target:
    version: v1
    kind: Secret
    name: sp-db
  patch: |-
    - op: replace
      path: /data/JDU
      value: Z3JlZW5maWVsZA==
- target:
    version: v1
    kind: Secret
    name: sp-db
  patch: |-
    - op: replace
      path: /data/JDP
      value: MDJhTVU0bWlHY2RHWlJmYg==
- target:
    version: v1
    kind: Secret
    name: sp-s3
  patch: |-
    - op: replace
      path: /data/AK
      value: QUtJQVZCTE1XN0FVRE0yVkhES0k=
- target:
    version: v1
    kind: Secret
    name: sp-s3
  patch: |-
    - op: replace
      path: /data/SK
      value: NE9GcVFBWW9ZUWVYQ2ppOVpMR0JHWU9RVTFyeVBwa3QrQ3BUa0REaw==
- target:
    version: v1
    kind: Secret
    name: sp-s3
  patch: |-
    - op: replace
      path: /data/BUCKET_URL
      value: aHR0cHM6Ly9zMy5hcC1ub3J0aGVhc3QtMS5hbWF6b25hd3MuY29tL3RmLW5vZGVyZWFsLWRldi1ncmVlbmZpZWxkLXNwLWM=
