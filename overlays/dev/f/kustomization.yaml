bases:
  - ../../../base

namespace: gf-sp-f

commonLabels:
    team: greenfield
    biz: storage-provider

configMapGenerator:
- name: config-syncer
  files:
  - configs/syncer/config.toml
- name: config-uploader-downloader-challenge
  files:
  - configs/uploader_downloader_challenge/config.toml
- name: config-gateway
  files:
  - configs/gateway/config.toml
- name: config-stonehub
  files:
  - configs/stonehub/config.toml
- name: config-stonenode
  files:
  - configs/stonenode/config.toml
- name: config-metadata
  files:
  - configs/metadata/config.toml
- name: config-signer
  files:
  - configs/signer/config.toml

patches:
- target:
    kind: Ingress
    name: gateway
  patch: |-
    - op: replace
      path: /spec/rules/0/host
      value: gf-sp-f-bk.dev.nodereal.cc
    - op: replace
      path: /spec/rules/1/host
      value: "*.gf-sp-f-bk.dev.nodereal.cc"

patchesJson6902:
- target:
    version: v1
    kind: Secret
    name: sp-db
  patch: |-
    - op: replace
      path: /data/MDU
      value: Z3JlZW5maWVsZA==
- target:
    version: v1
    kind: Secret
    name: sp-db
  patch: |-
    - op: replace
      path: /data/MDP
      value: MDJhTVU0bWlHY2RHWlJmYg==
- target:
    version: v1
    kind: Secret
    name: sp-db
  patch: |-
    - op: replace
      path: /data/JDU
      value: Z3JlZW5maWVsZA==
- target:
    version: v1
    kind: Secret
    name: sp-db
  patch: |-
    - op: replace
      path: /data/JDP
      value: MDJhTVU0bWlHY2RHWlJmYg==
- target:
    version: v1
    kind: Secret
    name: sp-s3
  patch: |-
    - op: replace
      path: /data/AK
      value: QUtJQVZCTE1XN0FVSEdSNllSU1c=
- target:
    version: v1
    kind: Secret
    name: sp-s3
  patch: |-
    - op: replace
      path: /data/SK
      value: dlpRV3RMVUF5VG9XRTg5WkVpOEJiT0MrS2s5cjBhd28wNjUybm4yZw==
- target:
    version: v1
    kind: Secret
    name: sp-s3
  patch: |-
    - op: replace
      path: /data/BUCKET_URL
      value: aHR0cHM6Ly9zMy5hcC1ub3J0aGVhc3QtMS5hbWF6b25hd3MuY29tL3RmLW5vZGVyZWFsLWRldi1ncmVlbmZpZWxkLXNwLWY=
